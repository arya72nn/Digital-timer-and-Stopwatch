<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Digital Timer & Stopwatch</title>
<style>
    body {
        margin: 0;
        font-family: 'Poppins', sans-serif;
        background: radial-gradient(circle at top, #111, #000);
        color: #fff;
        height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
    }
    .container {
        width: 380px;
        padding: 25px;
        background: rgba(255, 255, 255, 0.07);
        border-radius: 20px;
        box-shadow: 0 10px 40px rgba(0,0,0,0.4);
        text-align: center;
        backdrop-filter: blur(10px);
        display: none;
    }
    .menu {
        display: block;
    }
    h2 {
        margin-bottom: 15px;
        font-size: 1.8em;
    }
    button {
        padding: 12px 25px;
        border: none;
        background: linear-gradient(135deg,#00c6ff,#0072ff);
        color: white;
        border-radius: 10px;
        cursor: pointer;
        margin: 8px;
        font-size: 1.1em;
        transition: 0.2s;
    }
    button:hover {
        transform: scale(1.08);
        box-shadow: 0 0 15px #00c6ff;
    }
    .time-display {
        font-size: 3em;
        margin: 20px 0;
        letter-spacing: 2px;
    }
    .lap-list {
        max-height: 150px;
        overflow-y: auto;
        margin-top: 10px;
        background: rgba(255, 255, 255, 0.08);
        padding: 10px;
        border-radius: 10px;
    }
    .notification {
        position: fixed;
        bottom: 20px;
        background: #00c6ff;
        color: #000;
        padding: 15px;
        border-radius: 10px;
        font-weight: bold;
        display: none;
        animation: fadeIn 0.4s;
    }
    @keyframes fadeIn {
        from { transform: translateY(40px); opacity: 0; }
        to { transform: translateY(0); opacity: 1; }
    }
</style>
</head>
<body>

<!-- NOTIFICATION POPUP -->
<div class="notification" id="notifyBox">Time Completed!</div>

<!-- MENU SCREEN -->
<div class="menu container" id="menuScreen">
    <h2>Choose Your Mode</h2>
    <button onclick="openTimer()">⏳ Timer</button>
    <button onclick="openStopwatch()">⏱ Stopwatch</button>
</div>

<!-- TIMER SCREEN -->
<div class="container" id="timerScreen">
    <h2>⏳ Digital Timer</h2>
    <input type="number" id="minutes" placeholder="Minutes" style="padding:10px;border-radius:10px;border:none;width:120px;">
    <div class="time-display" id="timerDisplay">00:00</div>
    <button onclick="startTimer()">Start</button>
    <button onclick="pauseTimer()">Pause</button>
    <button onclick="resetTimer()">Reset</button>
    <br><br>
    <button onclick="goHome()">⬅ Back</button>
</div>

<!-- STOPWATCH SCREEN -->
<div class="container" id="stopwatchScreen">
    <h2>⏱ Stopwatch</h2>
    <div class="time-display" id="stopwatchDisplay">00:00:00</div>
    <button onclick="startStopwatch()">Start</button>
    <button onclick="pauseStopwatch()">Pause</button>
    <button onclick="resetStopwatch()">Reset</button>
    <button onclick="addLap()">Lap</button>

    <div class="lap-list" id="laps"></div>

    <br>
    <button onclick="goHome()">⬅ Back</button>
</div>

<script>
// ------------------ MENU SWITCH ------------------
function openTimer() {
    hideAll();
    timerScreen.style.display = "block";
}
function openStopwatch() {
    hideAll();
    stopwatchScreen.style.display = "block";
}
function goHome() {
    hideAll();
    menuScreen.style.display = "block";
}
function hideAll() {
    timerScreen.style.display = "none";
    stopwatchScreen.style.display = "none";
    menuScreen.style.display = "none";
}


// ------------------ NOTIFICATION POPUP ------------------
function notify(message) {
    let box = document.getElementById("notifyBox");
    box.innerHTML = message;
    box.style.display = "block";
    setTimeout(() => box.style.display = "none", 3000);
}


// ------------------ TIMER LOGIC ------------------
let timerInterval;
let timeLeft = 0;

function startTimer() {
    let mins = document.getElementById("minutes").value;
    if (mins <= 0) {
        notify("Enter valid minutes!");
        return;
    }

    timeLeft = mins * 60;
    updateTimerDisplay();

    clearInterval(timerInterval);
    timerInterval = setInterval(() => {
        timeLeft--;
        updateTimerDisplay();
        if (timeLeft <= 0) {
            clearInterval(timerInterval);
            notify("⏰ Timer Completed!");
            alert("⏳ Your Timer Finished!");
            playSound();
        }
    }, 1000);
}

function pauseTimer() {
    clearInterval(timerInterval);
}

function resetTimer() {
    clearInterval(timerInterval);
    timeLeft = 0;
    timerDisplay.innerHTML = "00:00";
}

function updateTimerDisplay() {
    let m = String(Math.floor(timeLeft / 60)).padStart(2, "0");
    let s = String(timeLeft % 60).padStart(2, "0");
    timerDisplay.innerHTML = `${m}:${s}`;
}


// ------------------ STOPWATCH LOGIC ------------------
let swInterval;
let ms = 0, sec = 0, min = 0;

function startStopwatch() {
    clearInterval(swInterval);
    swInterval = setInterval(() => {
        ms++;
        if (ms === 100) { sec++; ms = 0; }
        if (sec === 60) { min++; sec = 0; }
        updateStopwatchDisplay();
    }, 10);
}

function pauseStopwatch() {
    clearInterval(swInterval);
}

function resetStopwatch() {
    pauseStopwatch();
    ms = sec = min = 0;
    updateStopwatchDisplay();
    laps.innerHTML = "";
}

function updateStopwatchDisplay() {
    stopwatchDisplay.innerHTML =
        `${String(min).padStart(2,"0")}:${String(sec).padStart(2,"0")}:${String(ms).padStart(2,"0")}`;
}

function addLap() {
    let lap = document.createElement("div");
    lap.innerHTML = stopwatchDisplay.innerHTML;
    laps.appendChild(lap);
}


// ------------------ SOUND ALERT ------------------
function playSound() {
    const audio = new Audio("https://actions.google.com/sounds/v1/alarms/alarm_clock.ogg");
    audio.play();
}
</script>

</body>
</html>
